<h1>To Dos</h1>
<div class="container">
<table class="table">
    <thead>
        <tr>
            <th>ToDo</th>
            <th>Done?</th>
            <th>Category</th>
            <th colspan=3>Actions</th>
        </tr>
    </thead>
    <tbody>
        <% @todos.each do |t| %>
            <tr>
                <td><%= t.description %> </td>
                <td><%= check_box_tag 'is_complete', 'is_complete', t.is_complete, {onclick: "console.log('mark as complete')"} %></td>
                <td><%= link_to t.list.category, list_path(t.list) %></td>
                <td><%= link_to "Details", t %></td>
                <td><%= link_to "Edit", edit_to_do_path(t) %></td>
                <td><%= link_to "Delete", to_do_path(t), data: { turbo_method: :delete, confirm: "Are you sure?"} %></td>
            </tr>
        <% end %>
    </tbody>
</table>
<br>

<form action="/to_dos" method="post">
     <input type="hidden" value=<%= form_authenticity_token %> name="authenticity_token">
    <label for="description">Description</label>
    <input id="desription" type="text" name="to_do[description]">
    <input type="submit" value="Add">
</form>
<!--
<%= form_with model: @todo do |form|  %>
    <div class="form-group">
        <%= form.label :description, class: "form-label" %>
        <%= form.text_field :description, class: "form-control" %>
    </div>
    <div class="form-group">
        <%= form.submit "Add New To Do" %>
    </div>
<% end %>

<%= link_to "Add new todo", new_to_do_path %>
</div>-->